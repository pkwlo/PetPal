<!DOCTYPE html>
<html>

<head>
    <title>Pet Profile</title>
    <link rel="stylesheet" href="/css/style.css">
    <script>
        // Fetch user info and populate the page
        function fetchUserInfo() {
            fetch('/profile/user-info')
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        alert(data.error);
                        window.location.href = '/login';
                    } else {
                        // Populate user info
                        document.getElementById('email').innerText = data.email;
                        document.getElementById('gender').innerText = data.gender;
                        document.getElementById('name').innerText = data.name;
                        document.getElementById('birthdate').innerText = data.birthdate;
                        document.getElementById('picture').src = data.picture;
                    }
                });
        }

        // Run the fetch when the page loads
        window.onload = fetchUserInfo;
    </script>
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <a href="/profile">Profile</a>
        <a href="/community">Community</a>
        <a href="/reminders">Reminders</a>
        <a href="/logout">Logout</a>
    </nav>

    <h1>Pet Profile</h1>

    <!-- Display user info -->
    <div class="profile-container">
        <img id="picture" src="" alt="Profile Picture" class="profile-pic">
        <div class="profile-info">
            <p><strong>Name:</strong> <span id="name"></span></p>
            <p><strong>Email:</strong> <span id="email"></span></p>
            <p><strong>Gender:</strong> <span id="gender"></span></p>
            <p><strong>Birthdate:</strong> <span id="birthdate"></span></p>
        </div>
    </div>
</body>

</html>